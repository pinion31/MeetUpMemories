{"version":3,"sources":["../server/server.js"],"names":["express","require","path","bodyParser","axios","app","Meetup","mup","clientId","process","env","CLIENT_ID_MEETUP","clientSecret","CLIENT_KEY_MEETUP","redirectUri","use","req","res","next","header","json","urlencoded","extended","static","join","__dirname","get","send","getAuthorizeUrl","code","query","redirect","data","getAccessToken","err","access","refresh","others","console","log","sendFile","resolve","listen","PORT","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAME,aAAaF,QAAQ,aAAR,CAAnB;AACA,IAAMG,QAAQH,QAAQ,OAAR,CAAd;;AAEA,IAAMI,MAAML,SAAZ;;AAEA,IAAMM,SAASL,QAAQ,QAAR,CAAf;AACA,IAAMM,MAAM,IAAID,MAAJ,CAAW;AACpBE,YAAUC,QAAQC,GAAR,CAAYC,gBADF;AAEpBC,gBAAcH,QAAQC,GAAR,CAAYG,iBAFN;AAGpBC,eAAY;AAHQ,CAAX,CAAZ;;AAMAT,IAAIU,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1BD,MAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,wCAA3C;AACAF,MAAIE,MAAJ,CAAW,kCAAX,EAA+C,MAA/C;AACAD;AACD,CAND;;AAQAb,IAAIU,GAAJ,CAAQZ,WAAWiB,IAAX,EAAR;AACAf,IAAIU,GAAJ,CAAQZ,WAAWkB,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;;AAEAjB,IAAIU,GAAJ,CAAQf,QAAQuB,MAAR,CAAerB,KAAKsB,IAAL,CAAUC,SAAV,EAAqB,WAArB,CAAf,CAAR;;AAEApB,IAAIqB,GAAJ,CAAQ,cAAR,EAAwB,UAACV,GAAD,EAAMC,GAAN,EAAc;AACpCA,MAAIU,IAAJ,CAASpB,IAAIqB,eAAJ,EAAT;AACD,CAFD;;AAIAvB,IAAIqB,GAAJ,CAAQ,SAAR,EAAmB,UAACV,GAAD,EAAKC,GAAL,EAAa;AAC9B,MAAIY,OAAOb,IAAIc,KAAJ,CAAUD,IAArB;AACAZ,MAAIc,QAAJ,CAAa,cAAcF,IAA3B;AACD,CAHD;;AAKAxB,IAAIqB,GAAJ,CAAQ,gBAAR,EAA0B,UAACV,GAAD,EAAKC,GAAL,EAAa;AACrC,MAAMY,OAAOb,IAAIc,KAAJ,CAAUE,IAAvB;AACAzB,MAAI0B,cAAJ,CAAmBJ,IAAnB,EAAyB,UAASK,GAAT,EAAcC,MAAd,EAAsBC,OAAtB,EAA+BC,MAA/B,EAAuC;AAC9D,QAAIH,GAAJ,EAAS;AACLI,cAAQC,GAAR,CAAY,OAAZ,EAAqBL,GAArB;AACD;AACF,KAHD,MAGO;AACJ;AACA;AACA3B,UAAImB,GAAJ,CAAQ,gCAAR,EAA0C,UAACQ,GAAD,EAAKF,IAAL,EAAc;AACvD;AACAf,YAAIG,IAAJ,CAASY,IAAT;AACA,OAHD;AAIF;AACF,GAZD;AAcD,CAhBD;;AAkBA3B,IAAIqB,GAAJ,CAAQ,GAAR,EAAa,UAASV,GAAT,EAAcC,GAAd,EAAkB;AAC7BA,MAAIuB,QAAJ,CAAatC,KAAKuC,OAAL,CAAahB,SAAb,EAAwB,WAAxB,EAAqC,YAArC,CAAb;AACD,CAFD;;AAIApB,IAAIqC,MAAJ,CAAWjC,QAAQC,GAAR,CAAYiC,IAAZ,IAAoB,IAA/B,EAAqC,YAAM;AACzCL,UAAQC,GAAR,CAAY,aAAZ;AACD,CAFD;;AAIAK,OAAOC,OAAP,GAAiBxC,GAAjB","file":"server.js","sourcesContent":["const express = require('express');\nconst path = require('path');\nconst bodyParser = require('body-parser');\nconst axios = require('axios');\n\nconst app = express();\n\nconst Meetup = require(\"meetup\");\nconst mup = new Meetup({\n   clientId: process.env.CLIENT_ID_MEETUP,\n   clientSecret: process.env.CLIENT_KEY_MEETUP ,\n   redirectUri:\"http://localhost:8080/access\"\n});\n\napp.use((req, res, next) => {\n  res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n  res.header('Access-Control-Allow-Credentials', 'true');\n  next();\n});\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\n\napp.use(express.static(path.join(__dirname, '../static')));\n\napp.get('/auth/meetup', (req, res) => {\n  res.send(mup.getAuthorizeUrl());\n});\n\napp.get('/access', (req,res) => {\n  var code = req.query.code;\n  res.redirect('/#access=' + code);\n});\n\napp.get('/getUserEvents', (req,res) => {\n  const code = req.query.data;\n  mup.getAccessToken(code, function(err, access, refresh, others) {\n    if (err) {\n        console.log('error', err );\n       // do something about it\n    } else {\n       // at this point mup is automatically configured with the access token\n       // you are free to start making requests here\n       mup.get('/self/events?desc=true&page=20', (err,data) => {\n        //res.redirect('/eventList');\n        res.json(data);\n       });\n    }\n  });\n\n});\n\napp.get('*', function(req, res){\n  res.sendFile(path.resolve(__dirname, '../static', 'index.html'));\n});\n\napp.listen(process.env.PORT || 3000, () => {\n  console.log('App started');\n});\n\nmodule.exports = app;\n"]}